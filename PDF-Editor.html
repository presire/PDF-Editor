<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF編集ツール - ビジュアルエディタ</title>
    <!-- PDF.js -->
    <script src="js/pdf.min.js"></script>
    <!-- PDF-lib -->
    <script src="js/pdf-lib.min.js"></script>
    <!-- 外部CSSファイル -->
    <link rel="stylesheet" href="css/PDF-Editor.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📄 PDF編集ツール</h1>
            <p>2つのPDFを読み込んで、ページを自由に移動・コピー・削除できます</p>
        </div>

        <div class="main-content">
            <!-- 左側のPDF -->
            <div class="pdf-panel">
                <h2>
                    <div class="pdf-icon">L</div>
                    左側のPDF
                </h2>
                <div class="upload-area" id="uploadArea1">
                    <p style="margin-bottom: 15px; color: #666; font-size: 1.1rem;">📎 PDFファイルをドラッグ＆ドロップ</p>
                    <button class="upload-btn" onclick="document.getElementById('fileInput1').click()">
                        ファイルを選択
                    </button>
                    <input type="file" id="fileInput1" accept=".pdf">
                </div>
                <div class="pages-container" id="pagesContainer1"></div>
                <div class="download-area">
                    <button class="download-btn" id="downloadBtn1" disabled>
                        💾 左側のPDFをダウンロード
                    </button>
                </div>
            </div>

            <!-- 右側のPDF -->
            <div class="pdf-panel">
                <h2>
                    <div class="pdf-icon">R</div>
                    右側のPDF
                </h2>
                <div class="upload-area" id="uploadArea2">
                    <p style="margin-bottom: 15px; color: #666; font-size: 1.1rem;">📎 PDFファイルをドラッグ＆ドロップ</p>
                    <button class="upload-btn" onclick="document.getElementById('fileInput2').click()">
                        ファイルを選択
                    </button>
                    <input type="file" id="fileInput2" accept=".pdf">
                </div>
                <div class="pages-container" id="pagesContainer2"></div>
                <div class="download-area">
                    <button class="download-btn" id="downloadBtn2" disabled>
                        💾 右側のPDFをダウンロード
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- 拡大表示モーダル -->
    <div class="modal-overlay" id="modalOverlay">
        <button class="modal-close" id="modalClose">✕</button>
        <div class="modal-content">
            <div class="modal-page-info" id="modalInfo"></div>
            <div class="modal-canvas-wrapper">
                <canvas id="modalCanvas"></canvas>
            </div>
        </div>
    </div>

    <!-- コンテキストメニュー -->
    <div class="context-menu" id="contextMenu">
        <div class="context-menu-item delete" id="deleteMenuItem">🗑️ ページを削除</div>
    </div>

    <!-- ステータスメッセージ -->
    <div class="status-message" id="statusMessage"></div>

    <!-- プログレスバー -->
    <div class="progress-overlay" id="progressOverlay">
        <div class="progress-container">
            <div class="progress-title" id="progressTitle">PDFを生成中...</div>
            <div class="progress-bar-wrapper">
                <div class="progress-bar" id="progressBar">
                    <div class="progress-bar-fill" id="progressBarFill"></div>
                </div>
                <div class="progress-text" id="progressText">0%</div>
            </div>
            <div class="progress-details" id="progressDetails">0 / 0 ページ</div>
            <!-- キャンセルボタン -->
            <!-- ユーザーが処理を中止したい場合にクリックするボタン -->
            <!-- ESCキーを押しても同じ動作をします -->
            <button class="progress-cancel-btn" id="progressCancelBtn">
                ✕ キャンセル (ESC)
            </button>
        </div>
    </div>

    <!-- 外部JavaScriptファイル -->
    <script src="js/PDF-Editor.js"></script>
</body>
</html>
